<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="jsFunction.js"></script>
</head>
<body>
    <h1 id="test1"></h1>
    <script>
        ////////////new test
        // function obj1(name,age){
        //     this.name = name
        //     this.age = age
        //     return {
        //         name:this.name,
        //     }
        // }
        
        // var obj2 = createNew(obj1,'test2',22)
    
        // var obj3 = new obj1('test3',33)

        ////////////Promise test

        // function timeOut2(ms){
        //     return new myPromise((resolve,reject)=>{
        //         // setTimeout(()=>{
        //         //     console.log('this is time out ',ms)
        //         //     resolve('is resolve')
        //         // },ms)
        //         resolve('is resolve')
        //     })
        // }
        // timeOut2(2000).then(res=>{
        // })
        
        //////////call apply bind test
        var test1 = 100,test2 = 300;
        var Test={
            test1 : 200,
            test2 : this.test2,
            getTest:function(arg1,arg2){
                // console.log('arg1 ',arg1,' arg2 ',arg2 )
                // console.log(this.test1)
            }
        }
        var test3 = {
            test1: 1000,
            getTest:function(arg1,arg2){
                // console.log('test3 arg1 ',arg1,'test3 arg2 ',arg2 )
                // console.log(this.test1)
            }
        }

        // Test.getTest.call(test3,'11','22')
        // Test.getTest.mycall(test3,'11','22')
        // Test.getTest.apply(test3)
        // Test.getTest.myapply(test3)
        // Test.getTest.apply(test3,['11','22'])
        // Test.getTest.myapply(test3,['11','22'])
        Test.getTest.bind(test3,'111','222')()
        Test.getTest.mybind(test3,'111','222')()

        ///////////深浅拷贝
        //shallow copy
        var src = {
            test1:'test1',
            test2:'test2',
            null:null
        }
        // var shallowCopy = src
        // // shallowCopy.test3 = 'test3'
        // console.log(src)
        // console.log(shallowCopy)

        // // var src2 = {
        // //     test1:'test1_1',
        // //     test2:'test2_1',
        // // }

        var shallowCopy2 = Object.assign({},src)
        //Object.assign() 会把后面的参数合并到第一个参数中，当后面参数对象时，对于合并以后的对象，
        shallowCopy2.test1 = 'test1_1'
        shallowCopy2.testObj = 'obj1_1'
        // shallowCopy2.testObj.obj1 = 'obj1_1'
        // console.log(src)
        // console.log(shallowCopy2)
        
        // //deep copy
        var deepCopy1 = JSON.parse(JSON.stringify(src))
        // deepCopy1.test3 = 'test3'
        // console.log(src)
        console.log(deepCopy1)
        console.log('is equal ? ',deepCopy1 === src)
        var deepCopy2 = deepClone(src);
        console.log(deepCopy2)
        console.log('is equal ? ',deepCopy2 === src)

    </script>
</body>
</html>